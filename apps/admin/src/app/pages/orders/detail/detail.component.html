<p-card header="Order Detail" *ngIf="order">
  <p-fieldset [toggleable]="true" legend="Order Detail">
    <div class="grid">
      <div class="col-4">
        <h5>Order ID</h5>
        <p>{{order._id}}</p>
      </div>

      <div class="col-4">
        <h5>Ordered Date </h5>
        <p>{{order.dateOrdered | date:'short'}}</p>
      </div>

      <div class="col-4">
        <h5>Status</h5>
        <p-cascadeSelect optionGroupLabel="name"
        (onChange)="changeStatus($event)"
        placeholder="Change status"
        optionValue="label"
        [optionGroupChildren]="['states', 'cities']" [(ngModel)]="status" [options]="orderStatus" optionLabel="label" [style]="{'minWidth': '14rem'}"></p-cascadeSelect>
      </div>

      <div class="col-4">
        <h5>Total Price </h5>
        <p class="text-green-600">{{order.totalPrice | currency}}</p>
      </div>
    </div>
</p-fieldset>

<p-fieldset [toggleable]="true" legend="Order Items">
  <div class="grid border-bottom-1 border-500">
      <ng-container *ngFor="let orderItem of order.orderItems">
        <div class="col-2">
          <h5>Name</h5>
          <p>{{orderItem.product.name}}</p>
        </div>

        <div class="col-2">
          <h5>Brand</h5>
          <p>{{orderItem.product.brand}}</p>
        </div>

        <div class="col-2">
          <h5>Category</h5>
          <p>{{orderItem.product.category.name}}</p>
        </div>

        <div class="col-2">
          <h5>Price</h5>
          <p>{{orderItem.product.price | currency}}</p>
        </div>

        <div class="col-2">
          <h5>Quantity</h5>
          <p>{{orderItem.quantity}}</p>
        </div>

        <div class="col-2">
          <h5>Subtotal</h5>
          <p>{{orderItem.quantity * orderItem.product.price | currency}}</p>
        </div>
      </ng-container>
  </div>

  <div class="grid">
    <div class="col-2 col-offset-8">
      <h4 class="text-green-600">Total Price</h4>
    </div>

    <div class="col-2">
      <h4 class="text-green-600">{{order.totalPrice | currency}}</h4>
    </div>
</div>

</p-fieldset>

<p-fieldset [toggleable]="true" legend="Order Address">
   <div class="grid">
    <div class="col-4">
      <h5>Name</h5>
      <p>{{order.user.name}}</p>
    </div>

    <div class="col-4">
      <h5>Phone</h5>
      <p>{{order.phone}}</p>
    </div>

    <div class="col-4">
      <h5>Address</h5>
      <p>{{order.shipingAddress1}} <br /> {{order.shipingAddress2}} </p>
    </div>
   </div>
</p-fieldset>
</p-card>